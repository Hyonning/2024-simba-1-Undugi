{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>언더기</title>
    <link rel="stylesheet" href="{% static 'css/users/modifyv2.css' %}">
</head>

<body>
    <div class="home">
        <div class="head">
            <div class="logo">
                <img class="image" src="../../project/static/assets/icons/logo.png" alt="logo">
                <div class="name">언더기</div>
                <div class="description">매일 오르는 언덕을 조금 더 즐겁게</div>
                <div class="separator"></div>
            </div>
        </div>
        <div class="body">
            <form action="{% url 'users:mypage' %}" method="POST">
                {% csrf_token %}
                <div class="Image">
                    <p class="image_title">사진</p>
                    <div class="image_info">
                        <img class="profile" src="{{ profileImage }}" />
                    </div>
                    <div class="image_button">
                        <p><input type="file" name="profileImage" accept="image/*" class="button">사진 변경</p>
                    </div>
                    <div class="image_text">나를 알릴 수 있는 사진을 등록해 주세요!<br>
                            등록된 사진은 랭킹 프로필에 사용됩니다.
                    </div>
                </div>
                <div class="Nickname">
                    <p class="Nickname_title">닉네임</p>
                    <div class="input-field">
                        <input type="text" class="nick-text" placeholder="닉네임" name="nickname" id="nickname-input">
                        <svg class="no_nick" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12ZM8.111 15.889C8.01726 15.7952 7.96461 15.6681 7.96461 15.5355C7.96461 15.4029 8.01726 15.2758 8.111 15.182L11.293 12L8.111 8.818C8.01992 8.7237 7.96952 8.5974 7.97066 8.4663C7.9718 8.3352 8.02439 8.20979 8.11709 8.11709C8.20979 8.02439 8.3352 7.9718 8.4663 7.97066C8.5974 7.96952 8.7237 8.01992 8.818 8.111L12 11.293L15.182 8.111C15.2763 8.01992 15.4026 7.96952 15.5337 7.97066C15.6648 7.9718 15.7902 8.02439 15.8829 8.11709C15.9756 8.20979 16.0282 8.3352 16.0293 8.4663C16.0305 8.5974 15.9801 8.7237 15.889 8.818L12.707 12L15.889 15.182C15.9801 15.2763 16.0305 15.4026 16.0293 15.5337C16.0282 15.6648 15.9756 15.7902 15.8829 15.8829C15.7902 15.9756 15.6648 16.0282 15.5337 16.0293C15.4026 16.0305 15.2763 15.9801 15.182 15.889L12 12.707L8.818 15.889C8.72424 15.9827 8.59708 16.0354 8.4645 16.0354C8.33192 16.0354 8.20476 15.9827 8.111 15.889Z" fill="#AFAFAF"/>
                        </svg>
                    </div>
                </div>
                <div class="ID">
                    <p class="id_title">아이디</p>
                    <div class="input-field">
                        <input type="text" class="id-text" placeholder="아이디" name="id" id="id-input">
                        <svg class="no_id" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12ZM8.111 15.889C8.01726 15.7952 7.96461 15.6681 7.96461 15.5355C7.96461 15.4029 8.01726 15.2758 8.111 15.182L11.293 12L8.111 8.818C8.01992 8.7237 7.96952 8.5974 7.97066 8.4663C7.9718 8.3352 8.02439 8.20979 8.11709 8.11709C8.20979 8.02439 8.3352 7.9718 8.4663 7.97066C8.5974 7.96952 8.7237 8.01992 8.818 8.111L12 11.293L15.182 8.111C15.2763 8.01992 15.4026 7.96952 15.5337 7.97066C15.6648 7.9718 15.7902 8.02439 15.8829 8.11709C15.9756 8.20979 16.0282 8.3352 16.0293 8.4663C16.0305 8.5974 15.9801 8.7237 15.889 8.818L12.707 12L15.889 15.182C15.9801 15.2763 16.0305 15.4026 16.0293 15.5337C16.0282 15.6648 15.9756 15.7902 15.8829 15.8829C15.7902 15.9756 15.6648 16.0282 15.5337 16.0293C15.4026 16.0305 15.2763 15.9801 15.182 15.889L12 12.707L8.818 15.889C8.72424 15.9827 8.59708 16.0354 8.4645 16.0354C8.33192 16.0354 8.20476 15.9827 8.111 15.889Z" fill="#AFAFAF"/>
                        </svg>
                    </div>
                </div>
                <div class="Password">
                    <p class="password_title">비밀번호</p>
                    <div class="input-field">
                        <input type="password" class="password-text" placeholder="********" name="password" id="password">
                        <svg class="no_password" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12ZM8.111 15.889C8.01726 15.7952 7.96461 15.6681 7.96461 15.5355C7.96461 15.4029 8.01726 15.2758 8.111 15.182L11.293 12L8.111 8.818C8.01992 8.7237 7.96952 8.5974 7.97066 8.4663C7.9718 8.3352 8.02439 8.20979 8.11709 8.11709C8.20979 8.02439 8.3352 7.9718 8.4663 7.97066C8.5974 7.96952 8.7237 8.01992 8.818 8.111L12 11.293L15.182 8.111C15.2763 8.01992 15.4026 7.96952 15.5337 7.97066C15.6648 7.9718 15.7902 8.02439 15.8829 8.11709C15.9756 8.20979 16.0282 8.3352 16.0293 8.4663C16.0305 8.5974 15.9801 8.7237 15.889 8.818L12.707 12L15.889 15.182C15.9801 15.2763 16.0305 15.4026 16.0293 15.5337C16.0282 15.6648 15.9756 15.7902 15.8829 15.8829C15.7902 15.9756 15.6648 16.0282 15.5337 16.0293C15.4026 16.0305 15.2763 15.9801 15.182 15.889L12 12.707L8.818 15.889C8.72424 15.9827 8.59708 16.0354 8.4645 16.0354C8.33192 16.0354 8.20476 15.9827 8.111 15.889Z" fill="#AFAFAF"/>
                        </svg>
                    </div>
                    <p class="caution_text">* 비밀번호를 8자 이상으로 작성해 주세요.<br>
                        * 영문 대소문자, 숫자, 특수문자를 하나 이상 포함해주세요.<br>
                        * 사용가능 특수문자 @ ! ? - _
                    </p>
                </div>
                <div class="Cal">
                    <p class="cal_title">목표 칼로리</p>
                    <div class="input-field">
                        <input type="text" class="cal-text" placeholder="칼로리 kcal" name="cal" id="cal-input">
                        <svg class="no_cal" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12ZM8.111 15.889C8.01726 15.7952 7.96461 15.6681 7.96461 15.5355C7.96461 15.4029 8.01726 15.2758 8.111 15.182L11.293 12L8.111 8.818C8.01992 8.7237 7.96952 8.5974 7.97066 8.4663C7.9718 8.3352 8.02439 8.20979 8.11709 8.11709C8.20979 8.02439 8.3352 7.9718 8.4663 7.97066C8.5974 7.96952 8.7237 8.01992 8.818 8.111L12 11.293L15.182 8.111C15.2763 8.01992 15.4026 7.96952 15.5337 7.97066C15.6648 7.9718 15.7902 8.02439 15.8829 8.11709C15.9756 8.20979 16.0282 8.3352 16.0293 8.4663C16.0305 8.5974 15.9801 8.7237 15.889 8.818L12.707 12L15.889 15.182C15.9801 15.2763 16.0305 15.4026 16.0293 15.5337C16.0282 15.6648 15.9756 15.7902 15.8829 15.8829C15.7902 15.9756 15.6648 16.0282 15.5337 16.0293C15.4026 16.0305 15.2763 15.9801 15.182 15.889L12 12.707L8.818 15.889C8.72424 15.9827 8.59708 16.0354 8.4645 16.0354C8.33192 16.0354 8.20476 15.9827 8.111 15.889Z" fill="#AFAFAF"/>
                        </svg>
                    </div>
                </div>
                <div class="Weight">
                    <p class="weight_title">체중</p>
                    <div class="input-field">
                        <input type="text" class="weight-text" placeholder="체중 kg" name="weight" id="weight-input">
                        <svg class="no_weight" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12ZM8.111 15.889C8.01726 15.7952 7.96461 15.6681 7.96461 15.5355C7.96461 15.4029 8.01726 15.2758 8.111 15.182L11.293 12L8.111 8.818C8.01992 8.7237 7.96952 8.5974 7.97066 8.4663C7.9718 8.3352 8.02439 8.20979 8.11709 8.11709C8.20979 8.02439 8.3352 7.9718 8.4663 7.97066C8.5974 7.96952 8.7237 8.01992 8.818 8.111L12 11.293L15.182 8.111C15.2763 8.01992 15.4026 7.96952 15.5337 7.97066C15.6648 7.9718 15.7902 8.02439 15.8829 8.11709C15.9756 8.20979 16.0282 8.3352 16.0293 8.4663C16.0305 8.5974 15.9801 8.7237 15.889 8.818L12.707 12L15.889 15.182C15.9801 15.2763 16.0305 15.4026 16.0293 15.5337C16.0282 15.6648 15.9756 15.7902 15.8829 15.8829C15.7902 15.9756 15.6648 16.0282 15.5337 16.0293C15.4026 16.0305 15.2763 15.9801 15.182 15.889L12 12.707L8.818 15.889C8.72424 15.9827 8.59708 16.0354 8.4645 16.0354C8.33192 16.0354 8.20476 15.9827 8.111 15.889Z" fill="#AFAFAF"/>
                        </svg>
                    </div>
                </div>
                <div class="Major">
                    <p class="major_title">학과</p>
                    <div class="input-field">
                        <input type="text" class="major-text" placeholder="학과" name="major" id="major-input">
                        <svg class="no_major" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.523 17.523 22 12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12ZM8.111 15.889C8.01726 15.7952 7.96461 15.6681 7.96461 15.5355C7.96461 15.4029 8.01726 15.2758 8.111 15.182L11.293 12L8.111 8.818C8.01992 8.7237 7.96952 8.5974 7.97066 8.4663C7.9718 8.3352 8.02439 8.20979 8.11709 8.11709C8.20979 8.02439 8.3352 7.9718 8.4663 7.97066C8.5974 7.96952 8.7237 8.01992 8.818 8.111L12 11.293L15.182 8.111C15.2763 8.01992 15.4026 7.96952 15.5337 7.97066C15.6648 7.9718 15.7902 8.02439 15.8829 8.11709C15.9756 8.20979 16.0282 8.3352 16.0293 8.4663C16.0305 8.5974 15.9801 8.7237 15.889 8.818L12.707 12L15.889 15.182C15.9801 15.2763 16.0305 15.4026 16.0293 15.5337C16.0282 15.6648 15.9756 15.7902 15.8829 15.8829C15.7902 15.9756 15.6648 16.0282 15.5337 16.0293C15.4026 16.0305 15.2763 15.9801 15.182 15.889L12 12.707L8.818 15.889C8.72424 15.9827 8.59708 16.0354 8.4645 16.0354C8.33192 16.0354 8.20476 15.9827 8.111 15.889Z" fill="#AFAFAF"/>
                        </svg>
                    </div>
                    <p class="caution_text">정식 명칭으로 적어주세요.</p>
                </div>
            </div>
            <div class="modify_button">
                <button type="submit" class="button" id="save_button">변경정보 저장하기</button>
            </div>
            </form>
        {% include 'shared/_navbar.html' %}
    </div>

    <div class="overlay"></div>
    <div id="myModal" class="modal">
        <span class="close">&times; </span>
        <img class="modal_image" src="../../project/static/assets/icons/rundugi.png" alt="rundugi"/>
        <p class="save_check">변경 정보를 저장 후 이용해주세요!</p>
    </div>

    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const pwInput = document.getElementById('password');
            const saveBtn = document.getElementById('save_button');

            function validatePassword() {
                const password = pwInput.value;
                const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@!?-_]).{8,}$/;
        
                if (regex.test(password) == true) {
                    saveBtn.classList.add('active');
                    saveBtn.removeAttribute('data-disabled');
                }
                else {
                    saveBtn.classList.remove('active');
                    saveBtn.setAttribute('data-disabled', 'true');
                }
            }
            pwInput.addEventListener('input', validatePassword);
            saveBtn.addEventListener('click', function (event) {
                if (saveBtn.getAttribute('data-disabled') === 'true') {
                    event.preventDefault();
                }
            });
        });
        

        document.addEventListener('DOMContentLoaded', function() {
            const svgIcon = document.querySelector('.no_nick');
            const inputField_nick = document.querySelector('.nick-text');
            const placeholderText_nick = '닉네임';
    
            svgIcon.addEventListener('click', function() {
                inputField_nick.value = ''; 
                inputField_nick.placeholder = placeholderText1;
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            const svgIcon = document.querySelector('.no_id');
            const inputField_id = document.querySelector('.id-text');
            const placeholderText_id = '아이디';
    
            svgIcon.addEventListener('click', function() {
                inputField_id.value = ''; 
                inputField_id.placeholder = placeholderText_id;
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            const svgIcon = document.querySelector('.no_password');
            const inputField_password = document.querySelector('.password-text');
            const placeholderText_password = '비밀번호';
    
            svgIcon.addEventListener('click', function() {
                inputField_password.value = ''; 
                inputField_password.placeholder = placeholderText_password;
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            const svgIcon = document.querySelector('.no_cal');
            const inputField_cal = document.querySelector('.cal-text');
            const placeholderText_cal = '칼로리 kcal';
    
            svgIcon.addEventListener('click', function() {
                inputField_cal.value = ''; 
                inputField_cal.placeholder = placeholderText_cal;
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            const svgIcon = document.querySelector('.no_weight');
            const inputField_weight = document.querySelector('.weight-text');
            const placeholderText_weight = '체중 kg';
    
            svgIcon.addEventListener('click', function() {
                inputField_weight.value = ''; 
                inputField_weight.placeholder = placeholderText_weight;
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            const svgIcon = document.querySelector('.no_major');
            const inputField_major = document.querySelector('.major-text');
            const placeholderText_major = '학과';
    
            svgIcon.addEventListener('click', function() {
                inputField_major.value = ''; 
                inputField_major.placeholder = placeholderText_major;
            });
        });

        document.addEventListener("DOMContentLoaded", (event) => {
        const modal = document.getElementById("myModal");
        const overlay = document.querySelector('.overlay');
        const star_btn = document.querySelector(".starbutton");
        const home_btn = document.querySelector(".homebutton");
        const my_btn = document.querySelector(".mybutton");
        const span = document.getElementsByClassName("close")[0];

        star_btn.onclick = function (event) {
            event.preventDefault();
            modal.style.display = "block";
            overlay.style.display = "block";
        };

        home_btn.onclick = function (event) {
            event.preventDefault();
            modal.style.display = "block";
            overlay.style.display = "block";
        };

        my_btn.onclick = function (event) {
            event.preventDefault();
            modal.style.display = "block";
            overlay.style.display = "block";
        };

        span.onclick = function () {
            modal.style.display = "none";
            overlay.style.display = "none";
        };

        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
                overlay.style.display = "none";
            }
        };
    });

    </script>

</body>
</html>